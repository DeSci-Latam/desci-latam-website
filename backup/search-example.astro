---
import BaseLayout from '../layouts/Base.astro';
---

<BaseLayout title="Búsqueda con Pagefind">
  <!-- Contenedor de búsqueda fuera del contenido indexable -->
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-bold mb-8">Ejemplo de Búsqueda con Pagefind</h1>
    <div class="mb-12">
      <div id="search" class="w-full max-w-xl mx-auto"></div>
    </div>
  </div>

  <!-- Contenido indexable -->
  <main class="container mx-auto px-4 py-8" data-pagefind-body>
    <div class="grid gap-8 max-w-3xl mx-auto">
      <article data-pagefind-meta="title:¿Qué es DeSci?">
        <h2 class="text-2xl font-semibold mb-4">¿Qué es DeSci?</h2>
        <p class="text-lg">DeSci (Ciencia Descentralizada) es un movimiento que busca transformar la investigación científica utilizando tecnologías Web3 y blockchain.</p>
      </article>

      <article data-pagefind-meta="title:Blockchain en la Ciencia">
        <h2 class="text-2xl font-semibold mb-4">Blockchain en la Ciencia</h2>
        <p class="text-lg">La tecnología blockchain puede mejorar la transparencia, reproducibilidad y accesibilidad de la investigación científica.</p>
      </article>

      <article data-pagefind-meta="title:Comunidad Científica">
        <h2 class="text-2xl font-semibold mb-4">Comunidad Científica</h2>
        <p class="text-lg">La comunidad DeSci está formada por investigadores, desarrolladores y entusiastas que buscan democratizar el acceso al conocimiento científico.</p>
      </article>
    </div>
  </main>

  <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
  <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>

  <script is:inline>
    window.addEventListener('load', function() {
      new window.PagefindUI({
        element: "#search",
        showImages: false,
        resetStyles: false,
        translations: {
          placeholder: "Buscar en el sitio...",
          clear_search: "Limpiar búsqueda",
          load_more: "Cargar más resultados",
          search_label: "Buscar en este sitio",
          filters_label: "Filtros",
          zero_results: "No se encontraron resultados para [SEARCH_TERM]",
          many_results: "Se encontraron [COUNT] resultados para [SEARCH_TERM]",
          one_result: "Se encontró 1 resultado para [SEARCH_TERM]",
          alt_search: "No se encontraron resultados para [SEARCH_TERM]. Mostrando resultados para [DIFFERENT_TERM] en su lugar",
          search_suggestion: "No se encontraron resultados para [SEARCH_TERM]. Intenta una de las siguientes búsquedas:",
          searching: "Buscando [SEARCH_TERM]..."
        }
      });
    });
  </script>

  <style is:global>
    /* Estilos personalizados para el buscador */
    .pagefind-ui {
      --pagefind-ui-scale: 1;
      --pagefind-ui-primary: #034ad8;
      --pagefind-ui-text: #000;
      --pagefind-ui-background: #fff;
      --pagefind-ui-border: #eeeeee;
      --pagefind-ui-border-width: 2px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    .pagefind-ui .pagefind-ui__search-input {
      padding: 1rem;
      border-radius: 0.5rem;
    }

    .pagefind-ui .pagefind-ui__search-clear {
      width: 2rem;
      height: 2rem;
      padding: 0.5rem;
      right: 1rem;
    }
  </style>
</BaseLayout>
